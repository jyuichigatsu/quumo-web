# API実装状況一覧

## 1. ダッシュボード関連API

| APIエンドポイント | 用途 | 実装状況 | 優先度 | 備考 |
|-----------------|------|---------|--------|------|
| GET `/api/dashboard/summary` | 当日の主要指標サマリー取得 | ❌ 未実装 | 高 | 基本機能 |
| GET `/api/dashboard/funnel` | ファネル構造データ取得 | ❌ 未実装 | 高 | 基本機能 |
| GET `/api/dashboard/timeseries` | 時系列データ取得 | ❌ 未実装 | 高 | 基本機能 |

## 2. 手動データ入力API

| APIエンドポイント | 用途 | 実装状況 | 優先度 | 備考 |
|-----------------|------|---------|--------|------|
| POST `/api/manual-entry` | 手動データ登録 | ❌ 未実装 | 高 | 基本機能 |
| PATCH `/api/manual-entry/{id}` | 手動データ更新 | ❌ 未実装 | 中 | 部分更新対応 |
| DELETE `/api/manual-entry/{id}` | 手動データ削除 | ❌ 未実装 | 中 | ソフトデリート |

## 3. データソース連携API

| APIエンドポイント | 用途 | 実装状況 | 優先度 | 備考 |
|-----------------|------|---------|--------|------|
| GET `/api/retailnext/data` | RetailNextデータ取得 | ❌ 未実装 | 高 | 外部連携 |
| GET `/api/actcast/data` | Actcastデータ取得 | ❌ 未実装 | 高 | 外部連携 |
| GET `/api/safie/data` | Safie ONEデータ取得 | ❌ 未実装 | 中 | 外部連携 |
| GET `/api/pos/data` | POSデータ取得 | ❌ 未実装 | 中 | 外部連携 |

## 4. 集計テーブル

| テーブル名 | 用途 | 実装状況 | 優先度 | 備考 |
|-----------|------|---------|--------|------|
| `daily_summary_table` | 日次サマリー | ❌ 未実装 | 高 | 基本機能 |
| `hourly_summary_table` | 時間別サマリー | ❌ 未実装 | 高 | 基本機能 |
| `timeseries_metrics_table` | 時系列指標 | ❌ 未実装 | 高 | 基本機能 |
| `dashboard_weekday_summary` | 曜日別集計 | ❌ 未実装 | 中 | 分析用 |
| `dashboard_hourly_summary` | 時間帯集計 | ❌ 未実装 | 中 | 分析用 |
| `dashboard_monthly_summary` | 月次集計 | ❌ 未実装 | 中 | 分析用 |
| `dashboard_quarterly_summary` | 四半期集計 | ❌ 未実装 | 低 | 分析用 |
| `dashboard_yearly_summary` | 年次集計 | ❌ 未実装 | 低 | 分析用 |

## 実装状況のまとめ

### 優先度高（最初に実装すべき項目）
- ダッシュボード基本機能（サマリー、ファネル、時系列）
- 手動データ入力基本機能（CRUD）
- 基本集計テーブル（日次、時間別、時系列）
- 外部データソース連携（RetailNext、Actcast）
- POSデータ連携

### 優先度中（次に実装すべき項目）
- 分析用集計テーブル（曜日別、時間帯、月次）
- Safie ONEデータ連携

### 優先度低（最後に実装すべき項目）
- 長期分析用集計テーブル（四半期、年次）

## 実装の進め方

1. **フェーズ1: 基本機能の実装**
   - ダッシュボード基本API
   - 手動データ入力API
   - 基本集計テーブル

2. **フェーズ2: 外部連携の実装**
   - RetailNextデータ連携
   - Actcastデータ連携
   - POSデータ連携

3. **フェーズ3: 分析機能の拡張**
   - 分析用集計テーブル
   - Safie ONEデータ連携

4. **フェーズ4: 長期分析機能の実装**
   - 四半期集計
   - 年次集計

## 注意事項
- 各APIの詳細仕様は `dashboard_api_spec.md` と `manual_entry_api_spec.md` を参照
- 実装時は必ずテストケースを作成し、動作確認を行うこと
- 外部API連携時は、エラーハンドリングとリトライ処理を適切に実装すること
- データの整合性を保つため、トランザクション処理を適切に実装すること

## 更新履歴
| 日付 | 内容 | 編集者 |
|------|------|--------|
| 2024-05-02 | 初版作成 | AI Assistant | 